<!DOCTYPE html>
<html lang="zh-CN">

<head>
        <link rel="canonical" href="https://shareclash.github.io/news/article-24542.htm" />
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>k8s &#8211; 使用helm安装mysql</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta name="description" content="helm是k8s的包管理，类似于管理docker镜像的docker hub 官网提供了很多中安装方式，看自己的爱好以及条件。以下是源码安装： git clone https://github.com/" />
    
    <!-- Favicon -->
    <link href="__ADDON__/img/shareclash/favicon.ico" rel="icon">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">
    <!-- Vendor CSS Files -->
    <link href="__ADDON__/js/frontend/shareclash/aos/aos.css" rel="stylesheet">
    <link href="__ADDON__/js/frontend/shareclash/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="__ADDON__/js/frontend/shareclash/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="__ADDON__/js/frontend/shareclash/boxicons/css/boxicons.min.css" rel="stylesheet">
    <link href="__ADDON__/js/frontend/shareclash/glightbox/css/glightbox.min.css" rel="stylesheet">
    <link href="__ADDON__/js/frontend/shareclash/swiper/swiper-bundle.min.css" rel="stylesheet">
    <!-- Template Main CSS File -->
    <link href="/assets/website/css/shareclash/style.css" rel="stylesheet">
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Z0SYCQN5K6"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Z0SYCQN5K6');
</script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3332997411212854"
     crossorigin="anonymous"></script>
</head>

<body data-page="detail">
        <!-- ======= Header ======= -->
    <header id="header" class="fixed-top d-flex align-items-center">
        <div class="container d-flex align-items-center">
            <div class="logo me-auto">
                                <a href="/">Share Clash</a>
                            </div>
            <nav id="navbar" class="navbar order-last order-lg-0">
                <ul>
                                        <li><a class="nav-link" href="/">首页</a></li>
                                        <li><a class="nav-link" href="/free-nodes/">免费节点</a></li>
                                        <li><a class="nav-link" href="/paid-subscribe/">推荐机场</a></li>
                                        <li><a class="nav-link" href="/news/">新闻资讯</a></li>
                                        <li><a class="nav-link" href="#">关于</a></li>
                    <li><a class="nav-link" href="#">联系</a></li>
                </ul>
                <i class="bi bi-list mobile-nav-toggle"></i>
            </nav><!-- .navbar -->
            <div class="header-social-links d-flex align-items-center">
                <a href="#" class="twitter"><i class="bi bi-twitter"></i></a>
                <a href="#" class="facebook"><i class="bi bi-facebook"></i></a>
                <a href="#" class="instagram"><i class="bi bi-instagram"></i></a>
                <a href="#" class="linkedin"><i class="bi bi-linkedin"></i></i></a>
            </div>
        </div>
    </header><!-- End Header -->
    <main id="main">
        <!-- ======= Breadcrumbs ======= -->
        <section id="breadcrumbs" class="breadcrumbs">
            <div class="container">
                <ol>
                    <li><a href="/">首页</a></li>
                    <li><a href="/news/">新闻资讯</a></li>
                    <li>正文</li>
                </ol>
                <h1>新闻资讯</h1>
            </div>
        </section><!-- End Breadcrumbs -->
        <section class="inner-page">
            <div class="container">
                <div class="row">
                    <div class="col-md-9">
                                          				  				  				<div id="content_views" class="markdown_views prism-atom-one-dark"> </h1> <p><a href="http://www.m6000.cn/wp-content/themes/begin%20lts/inc/go.php?url=https://helm.sh/docs/"  rel="nofollow">helm是k8s的包管理</a>，类似于管理docker镜像的docker hub</p> <p>官网提供了很多中安装方式，看自己的爱好以及条件。以下是源码安装：</p> <pre><code class="prism language-bash"><span class="token function">git</span> clone https://github.com/helm/helm.git<span class="token builtin class-name">cd</span> helm<span class="token function">make</span></code></pre> <p>如果网络有问题，可以使用<a href="http://www.m6000.cn/wp-content/themes/begin%20lts/inc/go.php?url=https://github.com/helm/helm/releases"  rel="nofollow">二进制安装</a></p> <pre><code class="prism language-bash"><span class="token function">tar</span> -zxvf helm-v3.0.0-linux-amd64.tar.gz<span class="token function">mv</span> linux-amd64/helm /usr/local/bin/helm</code></pre> <p>Three Big Concepts<br /> A<strong>Chart</strong> is a Helm package. It contains all of the resource definitions necessary to run an application, tool, or service inside of a Kubernetes cluster. Think of it like the Kubernetes equivalent of a Homebrew formula, an Apt dpkg, or a Yum RPM file.</p> <p>A<strong>Repository</strong> is the place where charts can be collected and shared. It’s like Perl’s CPAN archive or the Fedora Package Database, but for Kubernetes packages.</p> <p>A<strong>Release</strong> is an instance of a chart running in a Kubernetes cluster. One chart can often be installed many times into the same cluster. And each time it is installed, a new release is created. Consider a MySQL chart. If you want two databases running in your cluster, you can install that chart twice. Each one will have its own release, which will in turn have its own release name.</p> </h1> <p><a href="http://www.m6000.cn/wp-content/themes/begin%20lts/inc/go.php?url=https://artifacthub.io/packages/helm/bitnami/mysql"  rel="nofollow">参考这个网站</a>可以在线安装</p> <pre><code class="prism language-bash">helm repo<span class="token function">add</span> bitnami https://charts.bitnami.com/bitnami helm<span class="token function">install</span> my-release bitnami/mysql</code></pre> <p>如果是内网，下载安装包后离线安装</p> <pre><code class="prism language-bash">helm<span class="token function">install</span> my-release mysql-0.1.1.tgz</code></pre> <p>参考提示信息可以操作mysql</p> <pre><code class="prism language-bash">NAME: my-release LAST DEPLOYED: Sat Nov<span class="token number">20</span><span class="token number">11</span>:21:22<span class="token number">2021</span> NAMESPACE: default STATUS: deployed REVISION:<span class="token number">1</span> TEST SUITE: None NOTES: CHART NAME: mysql CHART VERSION:<span class="token number">8.8</span>.12 APP VERSION:<span class="token number">8.0</span>.27  ** Please be patient<span class="token keyword">while</span> the chart is being deployed **  Tip:    Watch the deployment status using the command: kubectl get pods -w --namespace default  Services:<span class="token builtin class-name">echo</span> Primary: my-release-mysql.default.svc.cluster.local:3306  Execute the following to get the administrator credentials:<span class="token builtin class-name">echo</span> Username: root<span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>kubectl get secret --namespace default my-release-mysql -o<span class="token assign-left variable">jsonpath</span><span class="token operator">=</span><span class="token string">"{.data.mysql-root-password}"</span><span class="token operator">|</span> base64 --decode<span class="token variable">)</span></span>  To connect to your database:<span class="token number">1</span>. Run a pod that you can use as a client:        kubectl run my-release-mysql-client --rm --tty -i --restart<span class="token operator">=</span><span class="token string">'Never'</span> --image  docker.io/bitnami/mysql:8.0.27-debian-10-r8 --namespace default --command --<span class="token function">bash</span><span class="token number">2</span>. To connect to primary<span class="token function">service</span><span class="token punctuation">(</span>read/write<span class="token punctuation">)</span>:        mysql -h my-release-mysql.default.svc.cluster.local -uroot -p<span class="token string">"<span class="token variable">$MYSQL_ROOT_PASSWORD</span>"</span>    To upgrade this helm chart:<span class="token number">1</span>. Obtain the password as described on the<span class="token string">'Administrator credentials'</span> section and<span class="token builtin class-name">set</span> the<span class="token string">'root.password'</span> parameter as shown below:<span class="token assign-left variable">ROOT_PASSWORD</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>kubectl get secret --namespace default my-release-mysql -o<span class="token assign-left variable">jsonpath</span><span class="token operator">=</span><span class="token string">"{.data.mysql-root-password}"</span><span class="token operator">|</span> base64 --decode<span class="token variable">)</span></span>       helm upgrade --namespace default my-release bitnami/mysql --set auth.rootPassword<span class="token operator">=</span><span class="token variable">$ROOT_PASSWORD</span></code></pre> <h2><a id="mysql_82" rel="nofollow"></a>使用mysql</h2> <p>拿到mysql的登录密码</p> <pre><code class="prism language-bash"><span class="token builtin class-name">echo</span><span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>kubectl get secret --namespace default my-release-mysql -o<span class="token assign-left variable">jsonpath</span><span class="token operator">=</span><span class="token string">"{.data.mysql-root-password}"</span><span class="token operator">|</span> base64 --decode<span class="token variable">)</span></span></code></pre> <p>进入mysql容器pod</p> <pre><code class="prism language-bash">kubectl<span class="token builtin class-name">exec</span> -ti my-release1-mysql-0 --<span class="token function">bash</span></code></pre> <p>登录mysql</p> <pre><code class="prism language-bash">mysql -u root -p ysql<span class="token operator">&gt;</span> show databases<span class="token punctuation">;</span></code></pre> </h1> <p>查看</p> <pre><code class="prism language-bash">helm<span class="token function">ls</span></code></pre> <p>删除</p> <pre><code class="prism language-bash">helm delete my-release</code></pre> </div> 			                <div class="clearfix"></div>
                <div class="col-md-12 mt-5">
                                        <p>上一个：<a href="/news/article-23867.htm">兰州卖狗狗的地方（兰州有没有卖狗的地方）</a></p>
                                        <p>下一个：<a href="/news/article-24543.htm">领养宠物免费的地方在哪里啊（免费领养宠物店在哪里）</a></p>
                                    </div>
                                    </div>
                    <div class="col-md-3">
                        <div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">热门文章</h3>
    </div>
    <div class="panel-body">
        <ul class="p-0 x-0" style="list-style: none;margin: 0;padding: 0;">
                        <li class="py-2"><a href="/free-nodes/2024-10-6-free-shadowrocket-node.htm" title="10月6日 | 最新Clash/V2ray/Shadowrocket/SSR高速免费节点，最高速度20.4M/S 免费Clash机场订阅">10月6日 | 最新Clash/V2ray/Shadowrocket/SSR高速免费节点，最高速度20.4M/S 免费Clash机场订阅</a></li>
                        <li class="py-2"><a href="/free-nodes/2024-6-7-free-high-speed-nodes.htm" title="6月7日 | 最新Clash/SSR/Shadowrocket/V2ray高速免费节点，最高速度19.7M/S">6月7日 | 最新Clash/SSR/Shadowrocket/V2ray高速免费节点，最高速度19.7M/S</a></li>
                        <li class="py-2"><a href="/free-nodes/2024-6-17-free-clash.htm" title="6月17日 | 最新V2ray/Shadowrocket/SSR/Clash高速免费节点，最高速度22.3M/S">6月17日 | 最新V2ray/Shadowrocket/SSR/Clash高速免费节点，最高速度22.3M/S</a></li>
                        <li class="py-2"><a href="/free-nodes/2024-6-3-free-clash.htm" title="6月3日 | 最新Shadowrocket/Clash/V2ray/SSR高速免费节点，最高速度18.7M/S">6月3日 | 最新Shadowrocket/Clash/V2ray/SSR高速免费节点，最高速度18.7M/S</a></li>
                        <li class="py-2"><a href="/free-nodes/2024-5-31-free-ssr-node.htm" title="5月31日 | 最新SSR/V2ray/Clash/Shadowrocket高速免费节点，最高速度21.4M/S">5月31日 | 最新SSR/V2ray/Clash/Shadowrocket高速免费节点，最高速度21.4M/S</a></li>
                        <li class="py-2"><a href="/free-nodes/2024-9-19-free-high-speed-nodes.htm" title="9月19日 | 最新SSR/Shadowrocket/Clash/V2ray高速免费节点，最高速度19.5M/S 免费Clash机场订阅">9月19日 | 最新SSR/Shadowrocket/Clash/V2ray高速免费节点，最高速度19.5M/S 免费Clash机场订阅</a></li>
                        <li class="py-2"><a href="/free-nodes/2024-6-11-free-shadowrocket-node.htm" title="6月11日 | 最新Shadowrocket/Clash/SSR/V2ray高速免费节点，最高速度22M/S">6月11日 | 最新Shadowrocket/Clash/SSR/V2ray高速免费节点，最高速度22M/S</a></li>
                        <li class="py-2"><a href="/free-nodes/2024-9-2-free-clash.htm" title="9月2日 | 最新Clash/SSR/V2ray/Shadowrocket高速免费节点，最高速度18.2M/S 免费Clash机场订阅">9月2日 | 最新Clash/SSR/V2ray/Shadowrocket高速免费节点，最高速度18.2M/S 免费Clash机场订阅</a></li>
                        <li class="py-2"><a href="/free-nodes/2024-9-23-clash-node-daily-updates.htm" title="9月23日 | 最新Shadowrocket/Clash/V2ray/SSR高速免费节点，最高速度21M/S 免费Clash机场订阅">9月23日 | 最新Shadowrocket/Clash/V2ray/SSR高速免费节点，最高速度21M/S 免费Clash机场订阅</a></li>
                        <li class="py-2"><a href="/news/article-23863.htm" title="正规的宠物领养网站推荐有哪些（宠物领养网免费领养宠物的网站宠物领养中心）">正规的宠物领养网站推荐有哪些（宠物领养网免费领养宠物的网站宠物领养中心）</a></li>
                    </ul>
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">归纳</h3>
    </div>
    <div class="panel-body">
        <ul class="p-0 x-0" style="list-style: none;margin: 0;padding: 0;">
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">36</span> <a href="/date/2024-12/" title="2024-12 归档">2024-12</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">34</span> <a href="/date/2024-11/" title="2024-11 归档">2024-11</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">31</span> <a href="/date/2024-10/" title="2024-10 归档">2024-10</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">30</span> <a href="/date/2024-09/" title="2024-09 归档">2024-09</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">31</span> <a href="/date/2024-08/" title="2024-08 归档">2024-08</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">27</span> <a href="/date/2024-07/" title="2024-07 归档">2024-07</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">29</span> <a href="/date/2024-06/" title="2024-06 归档">2024-06</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">5</span> <a href="/date/2024-05/" title="2024-05 归档">2024-05</a></h4>
            </li>
                    </ul>
    </div>
</div>



                    </div>
                </div>
            </div>
        </section>
    </main><!-- End #main -->
        <!-- ======= Footer ======= -->
    <footer id="footer">
        <div class="container">
            <div class="copyright">
                ShareClash官网订阅站 版权所有
                <br />
                Powered by WordPress
            </div>
        </div>
    </footer><!-- End Footer -->
    <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>
    <!-- Vendor JS Files -->
    <script src="/assets/website/js/frontend/shareclash/jquery-3.5.1.min.js"></script>
    <script src="/assets/website/js/frontend/shareclash/aos/aos.js"></script>
    <script src="/assets/website/js/frontend/shareclash/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="/assets/website/js/frontend/shareclash/glightbox/js/glightbox.min.js"></script>
    <script src="/assets/website/js/frontend/shareclash/isotope-layout/isotope.pkgd.min.js"></script>
    <script src="/assets/website/js/frontend/shareclash/php-email-form/validate.js"></script>
    <script src="/assets/website/js/frontend/shareclash/swiper/swiper-bundle.min.js"></script>
    <!-- Template Main JS File -->
    <script src="/assets/website/js/frontend/shareclash/main.js"></script>
    <script src="https://www.freeclashnode.com/assets/js/frontend/invite-url.js"></script>
    <script src="/assets/website/js/frontend/G.js"></script>
</body>

</html>